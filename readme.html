<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Instant Search plugin for Zen Cart</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
    <style>
        #navbar-contents {
            z-index: -1;
            position: static;
        }

        #main-container {
            padding-top: 120px;
        }

        @media (min-width: 768px) {
            #navbar-contents {
                position: fixed;
                z-index: initial;
                max-width: 200px;
            }
        }

        @media (min-width: 992px) {
            #navbar-contents {
                max-width: 300px;
            }
        }

        .nav-pills .nav-link.active {
            background-color: #6e7581;
        }
    </style>
</head>
<body data-bs-spy="scroll" data-bs-target="#navbar-contents" data-bs-offset="100">
    <header>
        <nav id="navbar-header" class="navbar position-fixed navbar-light bg-light shadow-sm justify-content-center align-items-center container-fluid py-3">
            <div class="container">
            <h1 class="mb-1 fs-4">Instant Search plugin 2.0.1 for Zen Cart</h1>
                <div class="float-md-right text-center text-md-right mt-2 mt-md-0">
                    <i class="bi-github me-1 align-top"></i> <a href="https://github.com/marco-pm/zencart_instantsearch" target="_blank" rel="noopener noreferrer" class="link-secondary text-decoration-none me-4">GitHub Repository</a>
                    <i class="bi-layout-text-sidebar-reverse me-1 align-top"></i> <a href="https://www.zen-cart.com/showthread.php?189289-Instant-Search" target="_blank" rel="noopener noreferrer" class="link-secondary text-decoration-none">Support Thread</a>
                </div>
            </div>
        </nav>
    </header>

    <div class="container" id="main-container">
        <div class="row">
            <aside class="col-md-4 col-xxl-3">
                <nav id="navbar-contents" class="navbar navbar-light bg-light flex-column align-items-stretch p-3 shadow-sm mt-4 mt-sm-3 mb-3 my-md-0">
                    <nav class="nav nav-pills flex-column">
                        <a class="nav-link link-secondary" href="#item-prerequisites">Prerequisites</a>
                        <a class="nav-link link-secondary" href="#item-first-time-installation">Installation</a>
                        <nav class="nav nav-pills flex-column">
                            <a class="nav-link link-secondary ms-3 my-1" href="#item-upgrade-1">Upgrading from versions 1.x</a>
                            <a class="nav-link link-secondary ms-3 my-1" href="#item-upgrade-2">Upgrading from versions 2.x</a>
                            <a class="nav-link link-secondary ms-3 my-1" href="#item-first-time-install">First-time install</a>
                        </nav>
                        <a class="nav-link link-secondary" href="#item-use">Use</a>
                        <nav class="nav nav-pills flex-column">
                            <a class="nav-link link-secondary ms-3 my-1" href="#item-notifications">(For developers) Notifications</a>
                        </nav>
                        <a class="nav-link link-secondary" href="#item-uninstall">Uninstall</a>
                        <a class="nav-link link-secondary" href="#item-files-list">Files list</a>
                        <a class="nav-link link-secondary" href="#item-changelog">Changelog</a>
                    </nav>
                </nav>
            </aside>
            <article class="col-md-8 col-xxl-9 mt-4 mt-md-0 ps-md-4">
                <section>
                    <h1 id="item-prerequisites" class="display-1 fs-2 pb-2">Prerequisites</h1>
                    <ul class="mt-3">
                        <li>Zen Cart 1.5.7 or higher</li>
                        <li>PHP 7.0 or higher</li>
                        <li>Tested on Responsive Classic template and Bootstrap template</li>
                    </ul>
                </section>

                <section>
                    <h1 id="item-first-time-installation" class="display-1 fs-2 pb-2 pt-5">Installation</h1>
                    <h2 id="item-upgrade-1" class="fs-4 pt-1 pb-3">Upgrading from versions 1.x</h2>
                    <p>If you're currently using a 1.x version of the plugin:</p>
                    <ol>
                        <li>REMOVE the following plugin's files from your site's file system before installing:
                            <ul class="text-break mt-3">
                                <li>(up to version 1.0.2) <span class="font-monospace">searches.php</span></li>
                                <li><span class="font-monospace">includes/templates/YOUR_TEMPLATE/jscript/jscript_instantSearch.js</span></li>
                                <li><span class="font-monospace">includes/templates/YOUR_TEMPLATE/css/stylesheet_instantSearch.css</span></li>
                            </ul>
                        </li>
                        <li class="mt-3">Do a <a href="#item-first-time-install" class="link-secondary">first-time install</a>.</li>
                    </ol>
                    <p>If you're using observers to watch the plugin's notifications, note that the passed variables have changed. See <a href="#item-notifications" class="link-secondary">Notifications</a>.</p>
                </section>

                <section>
                    <h2 id="item-upgrade-2" class="fs-4 py-3">Upgrading from versions 2.x</h2>
                    <p>If you're currently using a 2.x version of the plugin: in Zen Cart 1.5.7 the plugin upgrade functionality is not active yet, therefore you must uninstall the current plugin version and install the new one via the Plugin Manager.</p>
                    <ol>
                        <li class="mt-3">Write down your current Instant Search settings in the admin (<em>Configuration > Instant Search</em>), because they will be lost once you uninstall the current plugin.</li>
                        <li class="mt-3">Uninstall the plugin via the Plugin Manager: in the Admin, go to <em>Modules > Plugin Manager</em>, select <em>Instant Search</em> and click the <em>Uninstall</em> button.</li>
                        <li class="mt-3">Do a <a href="#item-first-time-install" class="link-secondary">first-time install</a>.</li>
                        <li class="mt-3">Re-apply the previous Instant Search settings that you had written down on step 1.</li>
                    </ol>
                </section>

                <section>
                    <h2 id="item-first-time-install" class="fs-4 py-3">First-time install</h2>
                    <ol>
                        <li>Copy the <a href="#item-files-list" class="link-secondary">files</a> to your site's file system.<br>
                            Rename <span class="font-monospace">YOUR_TEMPLATE</span> to match the name of your site's template.<br>
                            DON'T rename the <span class="font-monospace">admin</span> subdirectory under <span class="font-monospace">zc_plugins/InstantSearch/v2.0.1</span>.
                        <li class="mt-3">Install the plugin via the Plugin Manager: in the Admin, go to <em>Modules > Plugin Manager</em>, select <em>Instant Search</em> and click the <em>Install</em> button.</li>
                    </ol>
                </section>

                <section>
                    <h1 id="item-use" class="display-1 fs-2 mt-6 pb-2 pt-5">Use</h1>
                    <p>Once the user starts typing in any search input box (header search, sidebox search, etc.), the keywords are searched into the database and the results immediately displayed in a dropdown that appears below the input box.</p>
                    <p>There are several configuration options available in the Admin (<em>Configuration > Instant Search</em>):</p>
                    <ul>
                        <li class="mt-2">Enable Instant Search</li>
                        <li class="mt-2">Max # of results displayed<br><em>Maximum number of results displayed in the dropdown. Too many and it's useless.</em></li>
                        <li class="mt-2">Min length of input text<br><em>Minimum length of text for Instant Search. If the text entered by the user has fewer characters than this value, the instant search won't be performed.</em></li>
                        <li class="mt-2">Max length of input text<br><em>Maximum length of text for Instant Search. If the text entered by the user has more characters than this value, the instant search won't be performed.</em></li>
                        <li class="mt-2">Wait time after typing<br><em>Wait time (in milliseconds) after the user has stopped typing before the search is performed. Increase this value a little if you want to avoid too many AJAX requests (and therefore database queries) on your server in a short interval.</em></li>
                        <li class="mt-2">Display images</li>
                        <li class="mt-2">Search also into product's model <strong>*</strong></li>
                        <li class="mt-2">Display the product's model</li>
                        <li class="mt-2">Display the product's price</li>
                        <li class="mt-2">Search also into categories <strong>*</strong></li>
                        <li class="mt-2">Display categories count <strong>*</strong><br><em>Display also the number of products for the matched categories (only if "Search also into categories" is set to True).</em></li>
                        <li class="mt-2">Search also into manufacturers <strong>*</strong></li>
                        <li class="mt-2">Display manufacturers count <strong>*</strong><br><em>Display also the number of products for the matched manufacturers (only if "Search also into manufacturers" is set to True).</em></li>
                        <li class="mt-2">Search also into product's attributes <strong>*</strong></li>
                    </ul>
                    <p>If your store has a lot of products and the Instant Search is slow, you may consider setting some or all of the settings marked with <strong>*</strong> to <em>False</em>, in order to improve the search performance.</p>
                </section>

                <section>
                    <h2 id="item-notifications" class="fs-4 py-3">(For developers) Notifications</h2>
                    <p>The class <span class="font-monospace">zcAjaxInstantSearch</span> triggers two notifications for observers:</p>
                    <ul>
                        <li><span class="font-monospace text-break">NOTIFY_INSTANT_SEARCH_QUERY</span>. The second variable is the sql query that is going to be executed to search for the keywords on the db.</li>
                        <li><span class="font-monospace text-break">NOTIFY_INSTANT_SEARCH_PRIOR_ADD_RESULT</span>. The second variable is the id of the current result (product, category or manufacturer); the third variable is the <span class="font-monospace">$result</span> array that contains the result data to be displayed.</li>
                    </ul>
                    <p>Both notifications pass as first, read-only variable the current <span class="font-monospace">$type</span> of the search, where <span class="font-monospace">$type</span> can be <span class="font-monospace">product</span>, <span class="font-monospace">category</span> or <span class="font-monospace">manufacturer</span>.</p>
                </section>

                <section>
                    <h1 id="item-uninstall" class="display-1 fs-2 pb-2 pt-5">Uninstall</h1>
                    <ol>
                        <li class="mt-3">Uninstall the plugin via the Plugin Manager: in the Admin, go to <em>Modules > Plugin Manager</em>, select <em>Instant Search</em> and click the <em>Uninstall</em> button.</li>
                        <li class="mt-3">Remove the <a href="#item-files-list" class="link-secondary">files</a> from your site's file system.
                    </ol>
                </section>

                <section>
                    <h1 id="item-files-list" class="display-1 fs-2 pb-2 pt-5">Files list</h1>
                        <ul class="mt-2 text-break">
                            <li><span class="font-monospace">includes/classes/ajax/zcAjaxInstantSearch.php</span></li>
                            <li><span class="font-monospace">includes/languages/english/extra_definitions/YOUR_TEMPLATE/instant_search.php</span></li>
                            <li><span class="font-monospace">includes/functions/extra_functions/instant_search_functions.php</span></li>
                            <li><span class="font-monospace">includes/templates/YOUR_TEMPLATE/jscript/instant_search.js</span></li>
                            <li><span class="font-monospace">includes/templates/YOUR_TEMPLATE/jscript/jscript_instant_search.php</span></li>
                            <li><span class="font-monospace">includes/templates/YOUR_TEMPLATE/css/stylesheet_instant_search.css</span></li>
                            <li><span class="font-monospace">includes/templates/YOUR_TEMPLATE/templates/tpl_ajax_instant_search_results.php</span></li>
                            <li><span class="font-monospace">zc_plugins/InstantSearch/v2.0.1/Installer/ScriptedInstaller.php</span></li>
                            <li><span class="font-monospace">zc_plugins/InstantSearch/v2.0.1/admin/includes/languages/english/extra_definitions/instant_search.php</span></li>
                            <li><span class="font-monospace">zc_plugins/InstantSearch/v2.0.1/manifest.php</span></li>
                        </ul>
                </section>

                <section>
                    <h1 id="item-changelog" class="display-1 fs-2 pb-2 pt-5">Changelog</h1>
                    <h2 id="item-v201" class="fs-4 py-3">v2.0.1 (2022-03-04)</h2>
                    <ul>
                        <li>Added debouncing with configurable wait time (fixes <a href="https://github.com/marco-pm/zencart_instantsearch/issues/11" target="_blank" rel="noopener noreferrer" class="link-secondary">#11</a>)</li>
                        <li>Removed old css rules</li>
                    </ul>

                    <h2 id="item-v200" class="fs-4 py-3">v2.0.0 (2022-02-23)</h2>
                    <ul>
                        <li>Added configuration options in the Admin
                            <ul>
                                <li>Enable Instant Search</li>
                                <li>Max # of results displayed</li>
                                <li>Max length of input text</li>
                                <li>Display images</li>
                                <li>Search also into product's model</li>
                                <li>Display the product's model</li>
                                <li>Display the product's price</li>
                                <li>Search also into categories</li>
                                <li>Display categories count</li>
                                <li>Search also into manufacturers</li>
                                <li>Display manufacturers count</li>
                            </ul>
                        </li>
                        <li>Optional search on categories and manufacturers</li>
                        <li>Code refactoring</li>
                        <li>Various code and visual improvements</li>
                    </ul>

                    <h2 id="item-v110" class="fs-4 py-3">v1.1.0 (2022-02-09)</h2>
                    <ul>
                        <li>Now uses a ZC AJAX class</li>
                        <li>Searches only into the product name and the product model (for now)</li>
                        <li>Improved word search and results sorting</li>
                        <li>Displays the product image, name and model on the results</li>
                    </ul>
                </section>
            </article>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</body>
</html>